<mxfile host="drawio-plugin" modified="2021-12-26T08:20:54.949Z" agent="5.0 (Macintosh; Intel Mac OS X 10_16_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36" etag="eeWPA4O-S5507c4LKpGR" version="14.7.4" type="embed" pages="6"><diagram id="23iRSUPoRavnBvh4doch" name="ThreadPoolExecutor"><mxGraphModel dx="1022" dy="605" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="135" value="" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fillColor=none;strokeColor=#FF0000;dashed=1;strokeWidth=3;" parent="1" vertex="1"><mxGeometry x="2080" y="740" width="610" height="970" as="geometry"/></mxCell><mxCell id="4" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="2" target="3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="6" value="&lt;span style=&quot;font-size: 12px&quot;&gt;提交任务&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="4" vertex="1" connectable="0"><mxGeometry x="-0.1111" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="2" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="280" y="20" width="40" height="40" as="geometry"/></mxCell><mxCell id="8" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="3" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="300" y="270" as="targetPoint"/></mxGeometry></mxCell><mxCell id="15" value="&lt;span style=&quot;font-size: 12px&quot;&gt;判断是否小于&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;核心线程数&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="8" vertex="1" connectable="0"><mxGeometry x="0.05" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="3" value="execute(runnable)" style="whiteSpace=wrap;html=1;fillColor=none;sketch=1;" parent="1" vertex="1"><mxGeometry x="240" y="130" width="120" height="60" as="geometry"/></mxCell><mxCell id="5" value="开始" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;sketch=1;" parent="1" vertex="1"><mxGeometry x="280" y="10" width="40" height="20" as="geometry"/></mxCell><mxCell id="10" value="Y" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="20" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="340" y="290" as="sourcePoint"/><mxPoint x="400" y="290" as="targetPoint"/></mxGeometry></mxCell><mxCell id="13" value="N" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="11" target="12" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="16" value="判断是否队列已经满" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="13" vertex="1" connectable="0"><mxGeometry x="0.125" y="-2" relative="1" as="geometry"><mxPoint x="2" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="11" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="260" y="270" width="80" height="40" as="geometry"/></mxCell><mxCell id="18" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="12" target="17" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="19" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="18" vertex="1" connectable="0"><mxGeometry x="-0.3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="28" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="12" target="27" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="33" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="28" vertex="1" connectable="0"><mxGeometry x="0.125" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="34" value="判断是否小于最大线程数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="28" vertex="1" connectable="0"><mxGeometry x="0.425" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="12" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="260" y="390" width="80" height="40" as="geometry"/></mxCell><mxCell id="31" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="17" target="29" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="17" value="添加任务队列中" style="whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="400" y="380" width="120" height="60" as="geometry"/></mxCell><mxCell id="46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;" parent="1" source="20" target="45" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="48" value="addWoker(runnable,true) 基于核心线程创建" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="46" vertex="1" connectable="0"><mxGeometry x="-0.3378" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="20" value="&lt;span&gt;封装Worker&lt;/span&gt;&lt;br&gt;&lt;span&gt;启动新线程&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="610" y="260" width="120" height="60" as="geometry"/></mxCell><mxCell id="24" value="&lt;div&gt;如果线程池已经处于非运行状态,则从缓冲队列&lt;/div&gt;&lt;div&gt;中移除任务然后采用线程池指定的策略拒绝任务&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;如果线程池中线程数量为0,则通过addWorker(null, false)&lt;span&gt;尝试新建一个线程,新建线程对应的任务为null&lt;/span&gt;&lt;/div&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;align=left;verticalAlign=top;size=0.16666666666666666;sketch=1;" parent="1" vertex="1"><mxGeometry x="820" y="332.5" width="160" height="155" as="geometry"/></mxCell><mxCell id="36" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="27" target="44" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="400" y="530" as="targetPoint"/></mxGeometry></mxCell><mxCell id="37" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="36" vertex="1" connectable="0"><mxGeometry x="-0.3333" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="39" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="27" target="38" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="40" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;" parent="39" vertex="1" connectable="0"><mxGeometry x="-0.2857" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="27" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="260" y="510" width="80" height="40" as="geometry"/></mxCell><mxCell id="32" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;sketch=1;" parent="1" source="29" target="24" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="29" value="添加成功后再判断线程状态和运行线程数" style="whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="610" y="380" width="120" height="60" as="geometry"/></mxCell><mxCell id="42" value="" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;" parent="1" source="38" target="41" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="38" value="使用拒绝策略" style="whiteSpace=wrap;html=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="240" y="620" width="120" height="60" as="geometry"/></mxCell><mxCell id="41" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;sketch=1;" parent="1" vertex="1"><mxGeometry x="280" y="770" width="40" height="40" as="geometry"/></mxCell><mxCell id="43" value="结束" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;sketch=1;" parent="1" vertex="1"><mxGeometry x="280" y="790" width="40" height="20" as="geometry"/></mxCell><mxCell id="47" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="44" target="45" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="49" value="addWoker(runnable,false) 基于最大线程创建" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="47" vertex="1" connectable="0"><mxGeometry x="-0.3673" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="44" value="&lt;span style=&quot;&quot;&gt;封装Worker&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;启动新线程&lt;/span&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;align=center;verticalAlign=middle;sketch=1;" parent="1" vertex="1"><mxGeometry x="610" y="500" width="120" height="60" as="geometry"/></mxCell><mxCell id="51" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="45" target="50" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="45" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;menlo&amp;quot; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #97e76b&quot;&gt;addWorker(runnable,core)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fontStyle=1" parent="1" vertex="1"><mxGeometry x="1010" y="360" width="200" height="60" as="geometry"/></mxCell><mxCell id="53" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="50" target="52" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="50" value="判断线程状态是否&lt;br&gt;可以接收新任务" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1330" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="55" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="52" target="54" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="56" value="封装worker" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="55" vertex="1" connectable="0"><mxGeometry x="-0.375" y="-1" relative="1" as="geometry"><mxPoint x="15" y="-1" as="offset"/></mxGeometry></mxCell><mxCell id="52" value="判断线程数是否&lt;br&gt;超过最大线程数" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1560" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="78" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="54" target="77" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="82" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="54" target="81" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="54" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;b&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;Worker&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;runnable&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;)&lt;/span&gt;&lt;/b&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1780" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="77" value="Worker 实现Runnable接口&lt;br&gt;Worker 封装Thread和Runnable任务&lt;br&gt;Worker 作为执行任务传递给Thread通过他连接线程与任务的关联关系。" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;size=0.18181818181818182;align=left;verticalAlign=top;" parent="1" vertex="1"><mxGeometry x="1725.5" y="210" width="229" height="100" as="geometry"/></mxCell><mxCell id="84" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="81" target="83" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="81" value="添加至工作线程池中&lt;br&gt;(&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt ; color: rgb(221 , 221 , 221)&quot;&gt;workers&lt;/span&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;font color=&quot;#dddddd&quot;&gt;add&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt ; color: rgb(255 , 255 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt ; color: rgb(253 , 195 , 35)&quot;&gt;w&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt ; color: rgb(255 , 255 , 255)&quot;&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1980" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="88" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="83" target="87" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="83" value="开启线程(thread.start())" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="92" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="87" target="91" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="87" value="执行Worker.run()方法" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="500" width="120" height="60" as="geometry"/></mxCell><mxCell id="94" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="91" target="93" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="91" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;menlo&amp;quot; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #97e76b&quot;&gt;runWorker&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #54e0e8&quot;&gt;Worker &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;w&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fontStyle=1" parent="1" vertex="1"><mxGeometry x="2180" y="640" width="120" height="60" as="geometry"/></mxCell><mxCell id="97" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="93" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2240" y="920" as="targetPoint"/></mxGeometry></mxCell><mxCell id="98" value="首个任务是否为空" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="97" vertex="1" connectable="0"><mxGeometry x="-0.125" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="93" value="&lt;span style=&quot;font-size: 11px&quot;&gt;获取当前工作线程首个任务&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2170" y="780" width="140" height="60" as="geometry"/></mxCell><mxCell id="103" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="101" target="102" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="108" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="103" vertex="1" connectable="0"><mxGeometry x="-0.1429" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="106" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="101" target="105" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="107" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="106" vertex="1" connectable="0"><mxGeometry x="-0.2" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="101" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" parent="1" vertex="1"><mxGeometry x="2200" y="920" width="80" height="40" as="geometry"/></mxCell><mxCell id="113" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="102" target="112" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="102" value="判断线程池状态" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1030" width="120" height="60" as="geometry"/></mxCell><mxCell id="111" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="105" target="102" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="2400" y="1060"/></Array></mxGeometry></mxCell><mxCell id="122" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="105" target="121" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="128" value="获取为空" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="122" vertex="1" connectable="0"><mxGeometry x="-0.425" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="105" value="从任务队列中获取&lt;br&gt;(getTask())" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2340" y="910" width="120" height="60" as="geometry"/></mxCell><mxCell id="115" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="112" target="114" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="116" value="执行工作任务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="115" vertex="1" connectable="0"><mxGeometry x="-0.025" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="112" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;执行线程前置处理&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;beforeExecute&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1170" width="120" height="60" as="geometry"/></mxCell><mxCell id="118" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="114" target="117" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="114" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;task&lt;/span&gt;.&lt;span style=&quot;color: #dddddd&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1310" width="120" height="60" as="geometry"/></mxCell><mxCell id="119" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="117" target="101" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="2130" y="1480"/><mxPoint x="2130" y="940"/></Array></mxGeometry></mxCell><mxCell id="120" value="循环队列剩余任务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="119" vertex="1" connectable="0"><mxGeometry x="-0.197" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="125" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="117" target="124" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="117" value="执行线程后置处理&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;afterExecute&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;task&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;thrown&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;; &lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1450" width="120" height="60" as="geometry"/></mxCell><mxCell id="126" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="121" target="124" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="127" value="没有可以执行的任务（可能因为以上原因导致返回为空）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="126" vertex="1" connectable="0"><mxGeometry x="-0.3558" y="-20" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="121" value="线程池stop&lt;br&gt;队列为空&lt;br&gt;超时" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2540" y="910" width="120" height="60" as="geometry"/></mxCell><mxCell id="130" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="124" target="129" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="124" value="执行工作线程退出" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1590" width="120" height="60" as="geometry"/></mxCell><mxCell id="132" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="129" target="131" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="129" value="从工作线程池移除&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;workers&lt;/span&gt;.&lt;span style=&quot;color: #dddddd&quot;&gt;remove&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;w&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1730" width="120" height="60" as="geometry"/></mxCell><mxCell id="134" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="131" target="133" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="131" value="始终维持最小线程数" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="2180" y="1870" width="120" height="60" as="geometry"/></mxCell><mxCell id="133" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="1" vertex="1"><mxGeometry x="2220" y="2020" width="40" height="40" as="geometry"/></mxCell><mxCell id="136" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;线程复用逻辑&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1"><mxGeometry x="2325" y="710" width="90" height="20" as="geometry"/></mxCell><mxCell id="137" value="" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fillColor=none;strokeColor=#FF0000;dashed=1;strokeWidth=3;" parent="1" vertex="1"><mxGeometry x="160" y="80" width="630" height="650" as="geometry"/></mxCell><mxCell id="138" value="&lt;b&gt;线程池任务添加主流程&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1"><mxGeometry x="390" y="50" width="140" height="20" as="geometry"/></mxCell><mxCell id="141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="139" target="140" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="139" value="主线程" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="730" y="960" width="120" height="60" as="geometry"/></mxCell><mxCell id="146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="140" target="142" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="990" y="1180"/></Array></mxGeometry></mxCell><mxCell id="147" value="1. addWorker(添加工作线程)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="146" vertex="1" connectable="0"><mxGeometry x="0.02" y="37" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="149" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="140" target="148" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="990" y="775"/></Array></mxGeometry></mxCell><mxCell id="150" value="2.&amp;nbsp;&lt;span style=&quot;font-size: 14px;&quot;&gt;workQueue.offer&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="149" vertex="1" connectable="0"><mxGeometry x="-0.4447" y="-9" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="140" value="execute" style="whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="930" y="960" width="120" height="60" as="geometry"/></mxCell><mxCell id="154" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#f0f0f0;entryX=0.627;entryY=1.052;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="142" target="148" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="155" value="3. workQueue.poll/take()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#f0f0f0;" parent="154" vertex="1" connectable="0"><mxGeometry x="-0.0161" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="142" value="core poll" style="whiteSpace=wrap;html=1;verticalAlign=top;" parent="1" vertex="1"><mxGeometry x="1410" y="960" width="160" height="440" as="geometry"/></mxCell><mxCell id="143" value="Worker(task,runnable)" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1430" y="1010" width="120" height="60" as="geometry"/></mxCell><mxCell id="144" value="Worker(task,runnable)" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1430" y="1110" width="120" height="60" as="geometry"/></mxCell><mxCell id="145" value="Worker(task,runnable)" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="1430" y="1220" width="120" height="60" as="geometry"/></mxCell><mxCell id="148" value="blockQueue" style="whiteSpace=wrap;html=1;align=right;" parent="1" vertex="1"><mxGeometry x="1140" y="720" width="560" height="110" as="geometry"/></mxCell><mxCell id="151" value="task-1" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontColor=#f0f0f0;" parent="1" vertex="1"><mxGeometry x="1170" y="735" width="120" height="80" as="geometry"/></mxCell><mxCell id="152" value="task-2" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontColor=#f0f0f0;" parent="1" vertex="1"><mxGeometry x="1310" y="735" width="120" height="80" as="geometry"/></mxCell><mxCell id="153" value="task-3" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontColor=#f0f0f0;" parent="1" vertex="1"><mxGeometry x="1450" y="735" width="120" height="80" as="geometry"/></mxCell><mxCell id="157" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#f0f0f0;" parent="1" source="156" target="139" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="156" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;fontColor=#f0f0f0;align=right;verticalAlign=top;" parent="1" vertex="1"><mxGeometry x="620" y="970" width="40" height="40" as="geometry"/></mxCell><mxCell id="158" value="&lt;span&gt;开始&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fontColor=#f0f0f0;" parent="1" vertex="1"><mxGeometry x="590" y="980" width="40" height="20" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-163" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-158" target="JXTvVcvahEJZSRUBu9Ah-159" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-165" value="shutdown()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="JXTvVcvahEJZSRUBu9Ah-163" vertex="1" connectable="0"><mxGeometry x="0.0047" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-166" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-158" target="JXTvVcvahEJZSRUBu9Ah-160" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-167" value="shutdownNow()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="JXTvVcvahEJZSRUBu9Ah-166" vertex="1" connectable="0"><mxGeometry x="-0.2612" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-158" value="RUNNING" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1"><mxGeometry x="1432.5" y="1514" width="120" height="80" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-168" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-159" target="JXTvVcvahEJZSRUBu9Ah-161" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-172" value="queue empty,pool enpty" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="JXTvVcvahEJZSRUBu9Ah-168" vertex="1" connectable="0"><mxGeometry x="-0.0573" y="1" relative="1" as="geometry"><mxPoint x="-31" y="-13" as="offset"/></mxGeometry></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-170" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-159" target="JXTvVcvahEJZSRUBu9Ah-160" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-171" value="shutdownNow()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="JXTvVcvahEJZSRUBu9Ah-170" vertex="1" connectable="0"><mxGeometry x="-0.1389" relative="1" as="geometry"><mxPoint x="35" as="offset"/></mxGeometry></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-159" value="SHUTDOWN" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1"><mxGeometry x="1182.5" y="1684" width="120" height="60" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-169" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-160" target="JXTvVcvahEJZSRUBu9Ah-161" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-173" value="pool empty" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=1;" parent="JXTvVcvahEJZSRUBu9Ah-169" vertex="1" connectable="0"><mxGeometry x="-0.0222" y="4" relative="1" as="geometry"><mxPoint x="20" y="-19" as="offset"/></mxGeometry></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-160" value="STOP" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1"><mxGeometry x="1662.5" y="1684" width="120" height="60" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-174" value="terminated()" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;shadow=1;" parent="1" source="JXTvVcvahEJZSRUBu9Ah-161" target="JXTvVcvahEJZSRUBu9Ah-162" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-161" value="&lt;span&gt;TIDYING&amp;nbsp;&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1"><mxGeometry x="1430" y="1830" width="120" height="60" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-162" value="TERMINATED" style="ellipse;whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1"><mxGeometry x="1430" y="1980" width="120" height="60" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-175" value="RUNNING: -1 &amp;lt;&amp;lt; COUNT_BITS，即高3位为111，该&lt;br&gt;状态的线程池会接收新任务，并处理阻塞队列中的任务" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;shadow=1;" parent="1" vertex="1"><mxGeometry x="1342.5" y="1484" width="300" height="30" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-176" value="SHUTDOWN: 0 &amp;lt;&amp;lt; COUNT_BITS，即高3位为000，该状&lt;br&gt;态的线程池不会接收新任务，但会处理阻塞队列中的任务；" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;shadow=1;" parent="1" vertex="1"><mxGeometry x="1077.5" y="1654" width="330" height="30" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-177" value="STOP : 1 &amp;lt;&amp;lt; COUNT_BITS，即高3位为001，该状态的线程不会接收&lt;br&gt;新任务，也不会处理阻塞队列中的任务，而且会中断正在运行的任务；" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;shadow=1;" parent="1" vertex="1"><mxGeometry x="1512.5" y="1654" width="390" height="30" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-178" value="TIDYING : 2 &amp;lt;&amp;lt; COUNT_BITS，即高3位为010, 所有的任务都已经终止；" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;shadow=1;" parent="1" vertex="1"><mxGeometry x="1280" y="1810" width="400" height="20" as="geometry"/></mxCell><mxCell id="JXTvVcvahEJZSRUBu9Ah-179" value="TERMINATED: 3 &amp;lt;&amp;lt; COUNT_BITS，即高3位为011, terminated()方法已经执行完成" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;shadow=1;" parent="1" vertex="1"><mxGeometry x="1241" y="1960" width="460" height="20" as="geometry"/></mxCell></root></mxGraphModel></diagram><diagram id="mcGFQGTBbwnMyMKNfAcp" name="AQS"><mxGraphModel dx="1992" dy="633" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="CqpKU-a3tO_jiACDVcot-0"/><mxCell id="CqpKU-a3tO_jiACDVcot-1" parent="CqpKU-a3tO_jiACDVcot-0"/><mxCell id="j-NlaD5QjTGuLUv5OBM--4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--0" target="j-NlaD5QjTGuLUv5OBM--3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--0" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-290" y="110" width="40" height="40" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--2" value="获取锁(&lt;font color=&quot;#ff0000&quot;&gt;lock&lt;/font&gt;)" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-310" y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--3" target="j-NlaD5QjTGuLUv5OBM--5" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--3" value="acquire(int arg)" style="fillColor=none;labelBackgroundColor=none;sketch=1;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-330" y="220" width="120" height="60" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--5" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-410" y="390" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--5" target="j-NlaD5QjTGuLUv5OBM--18" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--30" value="获取锁失败，进入虚拟队列" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="j-NlaD5QjTGuLUv5OBM--19" vertex="1" connectable="0"><mxGeometry x="-0.025" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-57" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0;entryY=0.4;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--5" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-21" y="390"/><mxPoint x="-21" y="308"/></Array></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-58" value="cas + 1" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-57" vertex="1" connectable="0"><mxGeometry x="-0.3319" y="11" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--5" value="tryAcquire(int acquires)&lt;br&gt;获取锁" style="fillColor=none;labelBackgroundColor=none;sketch=1;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-328" y="360" width="116" height="60" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--11" value="判断锁状态" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--9" target="j-NlaD5QjTGuLUv5OBM--10" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--9" value="tryAcquire(acquires)&lt;br&gt;模板方法实现逻辑" style="labelBackgroundColor=none;align=center;verticalAlign=middle;sketch=1;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-530" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--10" target="j-NlaD5QjTGuLUv5OBM--12" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--17" value="N" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="j-NlaD5QjTGuLUv5OBM--13" vertex="1" connectable="0"><mxGeometry y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--10" target="j-NlaD5QjTGuLUv5OBM--14" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--16" value="Y" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="j-NlaD5QjTGuLUv5OBM--15" vertex="1" connectable="0"><mxGeometry x="0.0286" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--10" value="status=0" style="rhombus;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-710" y="370" width="80" height="40" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--12" value="1.判断当前线程占用?&lt;br&gt;2.增加锁的占用次数&lt;br&gt;(所以是重入锁)" style="sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-730" y="480" width="120" height="60" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--14" value="1.判断是否队列第一?&lt;br&gt;2.volatile+CAS?&lt;br&gt;3.设置占用锁(2成功)&amp;nbsp;" style="sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-730" y="240" width="120" height="60" as="geometry"/></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--18" target="j-NlaD5QjTGuLUv5OBM--20" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-0" value="创建node+竞争tail+入队" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="j-NlaD5QjTGuLUv5OBM--21" vertex="1" connectable="0"><mxGeometry x="-0.225" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--18" value="addWaiter(Node.EXCLUSIVE)" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-330" y="500" width="120" height="60" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="j-NlaD5QjTGuLUv5OBM--20" target="QfQNJ6-P8okqvq2IUeYL-1" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-3" value="自旋获取锁" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="QfQNJ6-P8okqvq2IUeYL-2" vertex="1" connectable="0"><mxGeometry x="0.025" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j-NlaD5QjTGuLUv5OBM--20" value="1.创建Node节点&lt;br&gt;2.CAS竞争tail变量&lt;br&gt;3.构建虚拟队列&lt;br&gt;" style="fillColor=none;labelBackgroundColor=none;sketch=1;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-330" y="640" width="120" height="60" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" target="QfQNJ6-P8okqvq2IUeYL-4" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-272" y="980" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-6" value="重新获取失败&lt;br&gt;阻塞当前线程，同时唤醒将从此继续执行" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="QfQNJ6-P8okqvq2IUeYL-5" vertex="1" connectable="0"><mxGeometry x="-0.075" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-13" value="判断当前节点的pre节点是否是head节点 ？" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;dashed=1;strokeColor=#FF0000;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="QfQNJ6-P8okqvq2IUeYL-1" target="QfQNJ6-P8okqvq2IUeYL-12" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-1" value="acquireQueued" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-330" y="780" width="120" height="60" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;elbow=vertical;curved=1;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="QfQNJ6-P8okqvq2IUeYL-4" target="QfQNJ6-P8okqvq2IUeYL-7" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-9" value="检查唤醒后的线程状态是否正常" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="QfQNJ6-P8okqvq2IUeYL-8" vertex="1" connectable="0"><mxGeometry x="0.025" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-4" value="LockSupport.park(this);" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-332" y="1060" width="120" height="60" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-15" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeColor=#FF0000;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="QfQNJ6-P8okqvq2IUeYL-7" target="QfQNJ6-P8okqvq2IUeYL-1" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-150" y="1230"/><mxPoint x="-150" y="810"/></Array></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-16" value="for(;;)" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="QfQNJ6-P8okqvq2IUeYL-15" vertex="1" connectable="0"><mxGeometry x="0.1218" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-7" value="Thread.interrupted();" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-332" y="1200" width="120" height="60" as="geometry"/></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-11" value="此处唤醒" style="shape=singleArrow;arrowWidth=0.4;arrowSize=0.4;dashed=1;labelBackgroundColor=none;strokeColor=#FF0000;align=center;verticalAlign=middle;sketch=1;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-452" y="1060" width="80" height="60" as="geometry"/></mxCell><mxCell id="eKz_uQq7wiBmLRdJBDyf-1" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;dashed=1;strokeColor=#FF0000;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="QfQNJ6-P8okqvq2IUeYL-12" target="eKz_uQq7wiBmLRdJBDyf-0" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="eKz_uQq7wiBmLRdJBDyf-2" value="重新获取成功" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="eKz_uQq7wiBmLRdJBDyf-1" vertex="1" connectable="0"><mxGeometry x="-0.425" y="2" relative="1" as="geometry"><mxPoint x="-7" y="-2" as="offset"/></mxGeometry></mxCell><mxCell id="QfQNJ6-P8okqvq2IUeYL-12" value="是,就进行锁重新获取" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-330" y="920" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="eKz_uQq7wiBmLRdJBDyf-0" target="Fp-iSc_LTUSIi2IWBk_V-20" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="eKz_uQq7wiBmLRdJBDyf-0" value="替换head节点&lt;br&gt;" style="fillColor=none;sketch=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-550" y="920" width="120" height="60" as="geometry"/></mxCell><mxCell id="nEbmCZ5TSkrGRWN7AXz7-0" value="释放锁(&lt;font color=&quot;#ff0000&quot;&gt;unlock&lt;/font&gt;)" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="585" y="90" width="90" height="20" as="geometry"/></mxCell><mxCell id="nEbmCZ5TSkrGRWN7AXz7-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="nEbmCZ5TSkrGRWN7AXz7-1" target="nEbmCZ5TSkrGRWN7AXz7-2" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="nEbmCZ5TSkrGRWN7AXz7-1" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="610" y="110" width="40" height="40" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="nEbmCZ5TSkrGRWN7AXz7-2" target="Fp-iSc_LTUSIi2IWBk_V-0" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="nEbmCZ5TSkrGRWN7AXz7-2" value="release(int arg)" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="570" y="220" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-0" target="Fp-iSc_LTUSIi2IWBk_V-2" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-0" target="Fp-iSc_LTUSIi2IWBk_V-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-11" value="锁释放成功，唤醒后继节点" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="Fp-iSc_LTUSIi2IWBk_V-10" vertex="1" connectable="0"><mxGeometry x="-0.2" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-59" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0.975;entryY=0.6;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-0" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="400" y="390"/><mxPoint x="400" y="312"/></Array></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-60" value="cas -1" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-59" vertex="1" connectable="0"><mxGeometry x="0.2665" y="15" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-0" value="tryRelease(arg)&lt;br&gt;释放锁" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="570" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-2" target="Fp-iSc_LTUSIi2IWBk_V-4" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-2" value="tryRelease(releases)&lt;br&gt;模板方法实现逻辑" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="770" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-4" target="Fp-iSc_LTUSIi2IWBk_V-6" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-4" value="减少锁的占用次数&lt;br&gt;(重入锁特性)&lt;br&gt;=0 代表锁释放成功" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="970" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-6" value="重置锁持有的线程&lt;br&gt;重置资源state" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="1170" y="360" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-8" value="由于排他锁在释放的时候没有线程安全问题，所以不需要同步处理；&lt;br&gt;但是&lt;font color=&quot;#ff0000&quot;&gt;共享锁可能存在线程安全问题&lt;/font&gt;，因为多线程同时释放锁资源" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#f0f0f0;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="1170" y="280" width="380" height="30" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-9" target="Fp-iSc_LTUSIi2IWBk_V-12" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-9" value="unparkSuccessor(Node node)" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="570" y="500" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-12" target="Fp-iSc_LTUSIi2IWBk_V-15" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-17" value="唤醒" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="Fp-iSc_LTUSIi2IWBk_V-16" vertex="1" connectable="0"><mxGeometry x="-0.025" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-12" value="查询head的后继节点" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="570" y="640" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-15" target="Fp-iSc_LTUSIi2IWBk_V-18" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=1;entryY=0.5;entryDx=0;entryDy=0;curved=1;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-15" target="QfQNJ6-P8okqvq2IUeYL-4" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-61" value="唤醒队列头节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#f0f0f0;" parent="Fp-iSc_LTUSIi2IWBk_V-22" vertex="1" connectable="0"><mxGeometry x="-0.1361" y="35" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-15" value="LockSupport.unpark(s.thread);" style="fillColor=none;sketch=0;labelBackgroundColor=none;html=1;labelBorderColor=none;strokeColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="570" y="780" width="120" height="60" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-18" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="610" y="930" width="40" height="40" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-20" value="" style="shape=waypoint;sketch=1;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="-690" y="930" width="40" height="40" as="geometry"/></mxCell><mxCell id="Fp-iSc_LTUSIi2IWBk_V-24" value="state" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="170" y="300" width="40" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-4" value="" style="group;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1" connectable="0"><mxGeometry x="-40" y="400" width="80" height="180" as="geometry"/></mxCell><mxCell id="XiokFC0ycW90RyBAP5ec-41" value="Node01" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry width="80" height="180" as="geometry"/></mxCell><mxCell id="XiokFC0ycW90RyBAP5ec-42" value="waitStatus" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-0" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-1" value="next" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-2" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry y="120" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-3" value="nextWaiter" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-4" vertex="1"><mxGeometry y="150" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-5" value="" style="group;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1" connectable="0"><mxGeometry x="90" y="400" width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-6" value="Node02" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-7" value="waitStatus" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-8" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-9" value="next" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-10" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry y="120" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-11" value="nextWaiter" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-5" vertex="1"><mxGeometry y="150" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-13" value="" style="group;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1" connectable="0"><mxGeometry x="220" y="400" width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-14" value="Node03" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-15" value="waitStatus" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-16" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-17" value="next" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-18" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry y="120" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-19" value="nextWaiter" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-13" vertex="1"><mxGeometry y="150" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-20" value="" style="group;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1" connectable="0"><mxGeometry x="350" y="400" width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-21" value="Node04" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry width="80" height="180" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-22" value="waitStatus" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-23" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-24" value="next" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-25" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry y="120" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-26" value="nextWaiter" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="jW1Qny5V6F_pNRd8-5hc-20" vertex="1"><mxGeometry y="150" width="80" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-36" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0.45;entryY=1.05;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="XiokFC0ycW90RyBAP5ec-41" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint y="340"/><mxPoint x="188" y="340"/></Array></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-37" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-6" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-38" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;exitX=0.5;exitY=0;exitDx=0;exitDy=0;dashed=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-14" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-39" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;dashed=1;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-21" target="Fp-iSc_LTUSIi2IWBk_V-24" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="390" y="340"/><mxPoint x="190" y="340"/></Array></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-43" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-1" target="jW1Qny5V6F_pNRd8-5hc-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-44" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-9" target="jW1Qny5V6F_pNRd8-5hc-17" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-45" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-17" target="jW1Qny5V6F_pNRd8-5hc-24" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-46" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-23" target="jW1Qny5V6F_pNRd8-5hc-16" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-47" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-16" target="jW1Qny5V6F_pNRd8-5hc-8" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-48" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-8" target="jW1Qny5V6F_pNRd8-5hc-0" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-51" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-49" target="XiokFC0ycW90RyBAP5ec-41" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-62" value="当前获取锁的虚拟节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#f0f0f0;" parent="jW1Qny5V6F_pNRd8-5hc-51" vertex="1" connectable="0"><mxGeometry x="0.6692" y="-6" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-49" value="head" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="156" y="680" width="40" height="20" as="geometry"/></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-52" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1.033;exitY=0.55;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" source="jW1Qny5V6F_pNRd8-5hc-53" target="jW1Qny5V6F_pNRd8-5hc-21" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="285" y="690" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-63" value="队尾" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#f0f0f0;" parent="jW1Qny5V6F_pNRd8-5hc-52" vertex="1" connectable="0"><mxGeometry x="-0.5218" y="9" relative="1" as="geometry"><mxPoint x="1" as="offset"/></mxGeometry></mxCell><mxCell id="jW1Qny5V6F_pNRd8-5hc-53" value="tail" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="CqpKU-a3tO_jiACDVcot-1" vertex="1"><mxGeometry x="196" y="680" width="30" height="20" as="geometry"/></mxCell><mxCell id="tFhVe5KB1thK4rPelq_p-0" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontColor=#FF0000;" parent="CqpKU-a3tO_jiACDVcot-1" source="Fp-iSc_LTUSIi2IWBk_V-6" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="1250" y="350" as="sourcePoint"/><mxPoint x="1300" y="300" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel></diagram><diagram id="Z6PyGmv_UGR64k4-8huN" name="Sync"><mxGraphModel dx="1354" dy="633" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="TtLvWpDj3m4DL-M9jB7u-0"/><mxCell id="TtLvWpDj3m4DL-M9jB7u-1" parent="TtLvWpDj3m4DL-M9jB7u-0"/><mxCell id="iUOaCaQtqsrIiYUxeszV-0" value="偏向锁（&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;ObjectSynchronizer::fast_enter&lt;/span&gt;&lt;span&gt;）&lt;/span&gt;" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;startSize=20;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="385" y="320" width="1100" height="1470" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-1" value="Thread1" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-0" vertex="1"><mxGeometry y="20" width="380" height="1450" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-35" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;" parent="iUOaCaQtqsrIiYUxeszV-1" vertex="1"><mxGeometry x="145" y="460" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-2" value="Mark Word" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-0" vertex="1"><mxGeometry x="380" y="20" width="370" height="1450" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-30" value="&lt;span&gt;Mark Word&lt;br&gt;&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="iUOaCaQtqsrIiYUxeszV-2" vertex="1"><mxGeometry x="110" y="320" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-58" value="&lt;span&gt;Mark Word&lt;/span&gt;&lt;br&gt;&lt;span&gt;[thread2|1|01]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="iUOaCaQtqsrIiYUxeszV-2" vertex="1"><mxGeometry x="85" y="580" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-76" value="Mark Word&lt;br&gt;[null0|01]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-2" vertex="1"><mxGeometry x="105" y="970" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-86" value="&lt;span&gt;Mark Word&lt;/span&gt;&lt;br&gt;&lt;span&gt;[Lock Record|00]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;fillColor=#2a2a2a;" parent="iUOaCaQtqsrIiYUxeszV-2" vertex="1"><mxGeometry x="105" y="1090" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-3" value="Thread2" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-0" vertex="1"><mxGeometry x="750" y="20" width="350" height="1450" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-43" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="135" y="590" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-45" value="启动" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="155" y="200" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-48" value="访问同步代码块" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="115" y="310" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="iUOaCaQtqsrIiYUxeszV-3" source="iUOaCaQtqsrIiYUxeszV-45" target="iUOaCaQtqsrIiYUxeszV-48" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="iUOaCaQtqsrIiYUxeszV-3" source="iUOaCaQtqsrIiYUxeszV-51" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="175" y="590" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-50" value="N[&lt;span style=&quot;font-size: 12px&quot;&gt;Cas设置当前线程&lt;/span&gt;]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-49" vertex="1" connectable="0"><mxGeometry x="-0.2857" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-51" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="135" y="460" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="iUOaCaQtqsrIiYUxeszV-3" source="iUOaCaQtqsrIiYUxeszV-48" target="iUOaCaQtqsrIiYUxeszV-51" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-47" value="&lt;span style=&quot;font-size: 12px&quot;&gt;判断对象头是否存在当前线程&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-46" vertex="1" connectable="0"><mxGeometry x="-0.1143" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-54" value="撤销偏向锁" style="whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="115" y="710" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-55" value="N[&lt;span style=&quot;font-size: 12px&quot;&gt;设置失败&lt;/span&gt;]" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-3" source="iUOaCaQtqsrIiYUxeszV-43" target="iUOaCaQtqsrIiYUxeszV-54" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-71" value="获取到锁" style="whiteSpace=wrap;html=1;" parent="iUOaCaQtqsrIiYUxeszV-3" vertex="1"><mxGeometry x="115" y="1090" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-3" source="iUOaCaQtqsrIiYUxeszV-54" target="iUOaCaQtqsrIiYUxeszV-71" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-59" value="设置" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="iUOaCaQtqsrIiYUxeszV-0" source="iUOaCaQtqsrIiYUxeszV-43" target="iUOaCaQtqsrIiYUxeszV-58" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-147" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-0" source="iUOaCaQtqsrIiYUxeszV-76" target="iUOaCaQtqsrIiYUxeszV-71" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-4" value="轻量锁（&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;ObjectSynchronizer::slow_enter&lt;/span&gt;&lt;span&gt;）&lt;/span&gt;" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;startSize=20;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1585" y="320" width="1100" height="1730" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-5" value="Thread1" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-4" vertex="1"><mxGeometry y="20" width="380" height="1710" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-6" value="Mark Word" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-4" vertex="1"><mxGeometry x="380" y="20" width="370" height="1710" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-105" value="Mark Word&lt;br&gt;[null|0|01]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="115" y="310" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-115" value="&lt;span&gt;Lock Record空间&lt;/span&gt;&lt;br&gt;&lt;span&gt;[null|null]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="115" y="430" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-118" value="&lt;span&gt;Lock Record空间&lt;/span&gt;&lt;br&gt;&lt;span&gt;[displace hdr|null]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="115" y="570" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-127" value="指向mark word地址" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#f0f0f0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="iUOaCaQtqsrIiYUxeszV-6" source="iUOaCaQtqsrIiYUxeszV-124" target="iUOaCaQtqsrIiYUxeszV-125" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-124" value="&lt;span&gt;Lock Record空间&lt;/span&gt;&lt;br&gt;&lt;span&gt;[displace hdr|owner]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="225" y="710" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-126" value="指向lock record地址" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#f0f0f0;curved=1;" parent="iUOaCaQtqsrIiYUxeszV-6" source="iUOaCaQtqsrIiYUxeszV-125" target="iUOaCaQtqsrIiYUxeszV-124" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="95" y="680"/><mxPoint x="285" y="680"/></Array></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-125" value="Mark Word&lt;br&gt;[stack pointer]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="35" y="710" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-140" value="&lt;span&gt;Mark Word&lt;/span&gt;&lt;br&gt;&lt;span&gt;[stack pointer|00]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="125" y="950" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-151" value="&lt;span&gt;Mark Word&lt;/span&gt;&lt;br&gt;&lt;span&gt;[displace hdr]&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="115" y="1350" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-214" value="指向monitor地址" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#f0f0f0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="iUOaCaQtqsrIiYUxeszV-6" source="iUOaCaQtqsrIiYUxeszV-200" target="iUOaCaQtqsrIiYUxeszV-213" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-200" value="Mark Word&lt;br&gt;[stack pointer|10]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="195" y="1230" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-216" value="指向对象地址" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#f0f0f0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="iUOaCaQtqsrIiYUxeszV-6" source="iUOaCaQtqsrIiYUxeszV-213" target="iUOaCaQtqsrIiYUxeszV-200" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-213" value="Monitor&lt;br&gt;[_object]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-6" vertex="1"><mxGeometry x="40" y="1230" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-7" value="Thread2" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-4" vertex="1"><mxGeometry x="750" y="20" width="350" height="1710" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-160" value="启动" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;dashed=1;strokeColor=#f0f0f0;strokeWidth=2;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="145" y="80" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-163" value="访问同步代码块" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="190" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-159" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-160" target="iUOaCaQtqsrIiYUxeszV-163" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-166" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="125" y="320" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-163" target="iUOaCaQtqsrIiYUxeszV-166" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-162" value="判断锁是否已经占用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-161" vertex="1" connectable="0"><mxGeometry x="0.0286" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-168" value="在线程栈桢中申请&lt;br&gt;Lock Record空间" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="430" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-164" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-166" target="iUOaCaQtqsrIiYUxeszV-168" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-165" value="N[无锁]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-164" vertex="1" connectable="0"><mxGeometry x="-0.2" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-170" value="拷贝Mark Word至&lt;br&gt;Lock Record中" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="570" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-167" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-168" target="iUOaCaQtqsrIiYUxeszV-170" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-174" value="1-Cas设置对象头指向Lock Record&lt;br&gt;2-Cas设置Owner指向锁对象" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="65" y="710" width="200" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-169" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-170" target="iUOaCaQtqsrIiYUxeszV-174" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-197" value="N" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-177" target="iUOaCaQtqsrIiYUxeszV-179" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-177" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="125" y="840" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-172" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-174" target="iUOaCaQtqsrIiYUxeszV-177" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-173" value="设置是否成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-172" vertex="1" connectable="0"><mxGeometry x="0.0571" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-198" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-179" target="iUOaCaQtqsrIiYUxeszV-174" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="285" y="980"/><mxPoint x="285" y="740"/></Array></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-179" value="自旋+重新Cas" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="950" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-181" value="锁膨胀[重量锁]" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="1090" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-178" value="假如重试还是失败" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-179" target="iUOaCaQtqsrIiYUxeszV-181" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-52" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-184" target="jQZqf1lzNhXMfce8zqtg-50" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-184" value="1-设置状态为10&lt;br&gt;2-设置指针为监视器&lt;br&gt;&lt;font color=&quot;#ff0000&quot;&gt;3-设置监视器线程为当前轻量锁持有者&lt;/font&gt;" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="1230" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-180" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-7" source="iUOaCaQtqsrIiYUxeszV-181" target="iUOaCaQtqsrIiYUxeszV-184" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-199" value="设置状态和重置指针" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-180" vertex="1" connectable="0"><mxGeometry x="-0.05" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-202" value="线程阻塞" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="1470" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-203" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;dashed=1;" parent="iUOaCaQtqsrIiYUxeszV-7" source="jQZqf1lzNhXMfce8zqtg-50" target="iUOaCaQtqsrIiYUxeszV-202" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-50" value="获取锁操作" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-7" vertex="1"><mxGeometry x="105" y="1350" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-193" value="检查" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-4" source="iUOaCaQtqsrIiYUxeszV-105" target="iUOaCaQtqsrIiYUxeszV-166" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-194" value="申请" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-4" source="iUOaCaQtqsrIiYUxeszV-168" target="iUOaCaQtqsrIiYUxeszV-115" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-196" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-4" source="iUOaCaQtqsrIiYUxeszV-174" target="iUOaCaQtqsrIiYUxeszV-124" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-201" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="iUOaCaQtqsrIiYUxeszV-4" source="iUOaCaQtqsrIiYUxeszV-184" target="iUOaCaQtqsrIiYUxeszV-200" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-207" value="拷贝" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-4" source="iUOaCaQtqsrIiYUxeszV-118" target="iUOaCaQtqsrIiYUxeszV-170" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-8" value="重量锁（&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;ObjectMonitor&lt;/span&gt;&lt;span&gt;）&lt;/span&gt;" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;startSize=20;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2765" y="320" width="1279" height="2440" as="geometry"><mxRectangle x="2765" y="320" width="70" height="20" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-9" value="Thread1（ObjectMonitor::enter）" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-8" vertex="1"><mxGeometry y="20" width="570" height="2420" as="geometry"/></mxCell><mxCell id="ONoWmHFlkEmybD-OfCSC-1" value="启动" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="iUOaCaQtqsrIiYUxeszV-9" vertex="1"><mxGeometry x="245" y="90" width="40" height="40" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-31" value="&lt;span&gt;直接&lt;/span&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TryLock获取&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-9" vertex="1"><mxGeometry x="205" y="940" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-9" target="pE2CnEC2n407IftavL3Y-39" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="265" y="1140" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-9" source="pE2CnEC2n407IftavL3Y-39" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="265" y="1320" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-38" value="no succ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-37" vertex="1" connectable="0"><mxGeometry x="-0.3143" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-39" value="succ ？" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="iUOaCaQtqsrIiYUxeszV-9" vertex="1"><mxGeometry x="225" y="1210" width="80" height="40" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-41" value="封装为&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;ObjectWaiter node&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-9" vertex="1"><mxGeometry x="205" y="1320" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-10" value="Monitor" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-8" vertex="1"><mxGeometry x="570" y="20" width="359" height="2420" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-62" value="ObjectMonitor&lt;span&gt;&lt;br&gt;_recursions = 1&lt;/span&gt;&lt;br&gt;&lt;span&gt;_owner = self&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="55" y="320" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-63" value="ObjectMonitor&lt;br&gt;recusions ++" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="45" y="440" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-64" value="ObjectMonitor&lt;span&gt;&lt;br&gt;_recursions = 1&lt;/span&gt;&lt;br&gt;&lt;span&gt;_owner = self&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="45" y="680" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-65" value="ObjectMonitor&lt;span&gt;&lt;br&gt;_recursions = 1&lt;/span&gt;&lt;br&gt;&lt;span&gt;_owner = self&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="45" y="1200" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-83" value="&lt;span&gt;_recursions = 1&lt;/span&gt;&lt;br&gt;&lt;span&gt;_owner = self&lt;/span&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="45" y="2020" width="120" height="60" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-8" value="" style="group" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1" connectable="0"><mxGeometry x="45" y="1410" width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-1" value="Node01" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-8" vertex="1"><mxGeometry width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-2" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TS_CXQ&lt;/pre&gt;" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-8" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-3" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-8" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-4" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-8" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-10" value="" style="group" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1" connectable="0"><mxGeometry x="140" y="1410" width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-11" value="Node02" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-10" vertex="1"><mxGeometry width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-12" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TS_CXQ&lt;/pre&gt;" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-10" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-13" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-10" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-14" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-10" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-15" value="" style="group" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1" connectable="0"><mxGeometry x="235" y="1410" width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-16" value="Node02" style="align=center;verticalAlign=top;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-15" vertex="1"><mxGeometry width="80" height="120" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-17" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TS_CXQ&lt;/pre&gt;" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-15" vertex="1"><mxGeometry y="30" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-18" value="prev" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-15" vertex="1"><mxGeometry y="60" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-19" value="thread" style="align=center;verticalAlign=middle;labelBackgroundColor=none;html=1;labelBorderColor=none;" parent="M8t1piKGJnHgoV4cpFZh-15" vertex="1"><mxGeometry y="90" width="80" height="20" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-20" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="iUOaCaQtqsrIiYUxeszV-10" source="M8t1piKGJnHgoV4cpFZh-11" target="M8t1piKGJnHgoV4cpFZh-1" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="M8t1piKGJnHgoV4cpFZh-21" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="iUOaCaQtqsrIiYUxeszV-10" source="M8t1piKGJnHgoV4cpFZh-16" target="M8t1piKGJnHgoV4cpFZh-11" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-26" value="" style="group" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1" connectable="0"><mxGeometry x="119.5" y="1600" width="120" height="60" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-25" value="ObjectMonitor&lt;br&gt;" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="jQZqf1lzNhXMfce8zqtg-26" vertex="1"><mxGeometry width="120" height="60" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-23" value="_cxq" style="whiteSpace=wrap;html=1;shadow=1;" parent="jQZqf1lzNhXMfce8zqtg-26" vertex="1"><mxGeometry x="40" y="40" width="40" height="20" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-24" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="iUOaCaQtqsrIiYUxeszV-10" source="jQZqf1lzNhXMfce8zqtg-23" target="M8t1piKGJnHgoV4cpFZh-3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-27" value="_cxq 线程获取锁失败都会进入这个队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-10" vertex="1"><mxGeometry x="55" y="1360" width="220" height="20" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-11" value="Thread2（ObjectMonitor::exit）" style="swimlane;html=1;startSize=20;" parent="iUOaCaQtqsrIiYUxeszV-8" vertex="1"><mxGeometry x="929" y="20" width="350" height="2420" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-28" value="释放锁" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;shadow=1;strokeColor=#f0f0f0;" parent="iUOaCaQtqsrIiYUxeszV-11" vertex="1"><mxGeometry x="155" y="1440" width="40" height="40" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-38" value="&lt;span&gt;qmode=2/3/4&lt;br&gt;_cxq&lt;br&gt;_EntryList&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;shadow=1;strokeColor=#FF0000;" parent="iUOaCaQtqsrIiYUxeszV-11" vertex="1"><mxGeometry x="115" y="1690" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="iUOaCaQtqsrIiYUxeszV-8" source="pE2CnEC2n407IftavL3Y-39" target="pE2CnEC2n407IftavL3Y-65" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="365" y="1250" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-36" value="succ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-35" vertex="1" connectable="0"><mxGeometry x="-0.2667" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-14" target="iUOaCaQtqsrIiYUxeszV-15" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-14" value="启动" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="550" y="410" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-15" target="iUOaCaQtqsrIiYUxeszV-25" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-27" value="&lt;span style=&quot;font-size: 12px&quot;&gt;判断对象头是否存在当前线程&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-26" vertex="1" connectable="0"><mxGeometry x="-0.1143" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-15" value="访问同步代码块" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="520" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-25" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="570" y="800" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-34" value="N[&lt;span style=&quot;font-size: 12px&quot;&gt;Cas设置当前线程&lt;/span&gt;]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-32" vertex="1" connectable="0"><mxGeometry x="-0.2857" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-25" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="530" y="670" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-30" target="iUOaCaQtqsrIiYUxeszV-25" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-42" value="检查" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-33" vertex="1" connectable="0"><mxGeometry x="0.4036" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-38" target="iUOaCaQtqsrIiYUxeszV-51" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-57" value="检查" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-56" vertex="1" connectable="0"><mxGeometry x="-0.1867" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-38" value="Mark Word&lt;br&gt;[thread1|1|01]" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="860" y="790" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-35" target="iUOaCaQtqsrIiYUxeszV-38" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="875" y="820" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-41" value="设置" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-37" vertex="1" connectable="0"><mxGeometry x="-0.3231" y="-4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-39" target="iUOaCaQtqsrIiYUxeszV-62" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-39" value="执行同步代码块" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="910" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-40" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-35" target="iUOaCaQtqsrIiYUxeszV-39" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-54" target="iUOaCaQtqsrIiYUxeszV-62" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="560" y="1070" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-62" target="iUOaCaQtqsrIiYUxeszV-64" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-62" value="到达安全检查点" style="whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="1050" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-64" target="iUOaCaQtqsrIiYUxeszV-68" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-70" value="判断锁是否释放" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-69" vertex="1" connectable="0"><mxGeometry x="-0.0571" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-64" value="暂停线程" style="whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="1190" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-73" value="N[释放锁]" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-68" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="880" y="1340" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-68" target="iUOaCaQtqsrIiYUxeszV-79" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-81" value="Y[仍然持有锁]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-80" vertex="1" connectable="0"><mxGeometry x="-0.1143" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-68" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="530" y="1320" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-77" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1290" y="1630" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-71" target="iUOaCaQtqsrIiYUxeszV-77" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-79" target="iUOaCaQtqsrIiYUxeszV-82" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-79" target="iUOaCaQtqsrIiYUxeszV-86" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-79" value="设置Mark Word&lt;br&gt;指向Lock Record" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="1430" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-82" target="iUOaCaQtqsrIiYUxeszV-84" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-82" value="进入轻量锁模式" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="510" y="1570" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-84" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="550" y="1720" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-88" value="" style="line;strokeWidth=2;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;dashed=1;strokeColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="390" y="750" width="1090" height="8" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-90" value="无&lt;br&gt;锁&lt;br&gt;状&lt;br&gt;态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="355" y="520" width="30" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-91" value="" style="line;strokeWidth=2;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;dashed=1;strokeColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="390" y="1150" width="1090" height="8" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-92" value="偏&lt;br&gt;向&lt;br&gt;锁&lt;br&gt;状&lt;br&gt;态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="355" y="890" width="30" height="80" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-93" value="锁&lt;br&gt;转&lt;br&gt;变&lt;br&gt;过&lt;br&gt;程" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#f0f0f0;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="355" y="1390" width="30" height="80" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-96" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-94" target="iUOaCaQtqsrIiYUxeszV-95" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-94" value="启动" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;dashed=1;strokeColor=#f0f0f0;strokeWidth=2;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1740" y="420" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-95" target="iUOaCaQtqsrIiYUxeszV-99" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-102" value="判断锁是否已经占用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-100" vertex="1" connectable="0"><mxGeometry x="0.0286" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-95" value="访问同步代码块" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="530" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-99" target="iUOaCaQtqsrIiYUxeszV-109" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-111" value="N[无锁]" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-110" vertex="1" connectable="0"><mxGeometry x="-0.2" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-99" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1720" y="660" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-105" target="iUOaCaQtqsrIiYUxeszV-99" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-108" value="检查" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-107" vertex="1" connectable="0"><mxGeometry x="0.2333" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-109" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2090" y="800" as="targetPoint"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-120" value="申请" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-113" vertex="1" connectable="0"><mxGeometry x="-0.1926" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-109" target="iUOaCaQtqsrIiYUxeszV-116" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-109" value="在线程栈桢中申请&lt;br&gt;Lock Record空间" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="770" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-116" target="iUOaCaQtqsrIiYUxeszV-118" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-121" value="拷贝" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-119" vertex="1" connectable="0"><mxGeometry x="-0.1926" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-116" target="iUOaCaQtqsrIiYUxeszV-122" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-116" value="拷贝Mark Word至&lt;br&gt;Lock Record中" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="910" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-128" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-122" target="iUOaCaQtqsrIiYUxeszV-125" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-129" value="关系建立" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-128" vertex="1" connectable="0"><mxGeometry x="-0.5333" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-133" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-122" target="iUOaCaQtqsrIiYUxeszV-132" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-134" value="设置是否成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-133" vertex="1" connectable="0"><mxGeometry x="0.0571" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-122" value="1-Cas设置对象头指向Lock Record&lt;br&gt;2-Cas设置Owner指向锁对象" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1660" y="1050" width="200" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-136" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-132" target="iUOaCaQtqsrIiYUxeszV-135" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-137" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-136" vertex="1" connectable="0"><mxGeometry x="-0.2286" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-132" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1720" y="1180" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-141" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-135" target="iUOaCaQtqsrIiYUxeszV-140" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-146" value="设置" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-141" vertex="1" connectable="0"><mxGeometry x="-0.3214" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-143" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-135" target="iUOaCaQtqsrIiYUxeszV-142" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-135" value="设置锁状态为轻量锁00" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="1290" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-145" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-142" target="iUOaCaQtqsrIiYUxeszV-144" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-142" value="执行同步代码块" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="1430" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-149" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-144" target="iUOaCaQtqsrIiYUxeszV-148" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-150" value="设置Mark Word对象头为displace hdr" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-149" vertex="1" connectable="0"><mxGeometry x="-0.1429" y="-4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-144" value="释放锁" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="1570" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-152" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-148" target="iUOaCaQtqsrIiYUxeszV-151" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-153" value="设置" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-152" vertex="1" connectable="0"><mxGeometry x="-0.3517" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-155" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-148" target="iUOaCaQtqsrIiYUxeszV-154" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-156" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-155" vertex="1" connectable="0"><mxGeometry x="-0.2" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-148" value="Y/N" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1720" y="1700" width="80" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-158" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-154" target="iUOaCaQtqsrIiYUxeszV-157" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-154" target="iUOaCaQtqsrIiYUxeszV-202" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-54" value="释放锁操作：objectMonitor::exit()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="iUOaCaQtqsrIiYUxeszV-204" vertex="1" connectable="0"><mxGeometry x="-0.7366" y="-2" relative="1" as="geometry"><mxPoint x="39" y="-2" as="offset"/></mxGeometry></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-154" value="释放锁并唤醒thread2" style="whiteSpace=wrap;html=1;strokeWidth=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1700" y="1810" width="120" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-157" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;strokeWidth=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1740" y="1960" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-205" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;strokeWidth=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2480" y="1960" width="40" height="40" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-206" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="iUOaCaQtqsrIiYUxeszV-202" target="iUOaCaQtqsrIiYUxeszV-205" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-208" value="" style="line;strokeWidth=2;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;dashed=1;strokeColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1590" y="732" width="1090" height="8" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-209" value="无&lt;br&gt;锁&lt;br&gt;状&lt;br&gt;态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1555" y="510" width="30" height="60" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-210" value="" style="line;strokeWidth=2;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;dashed=1;strokeColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1590" y="1520" width="1090" height="8" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-211" value="轻&lt;br&gt;量&lt;br&gt;锁&lt;br&gt;状&lt;br&gt;态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1555" y="1100" width="30" height="80" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-212" value="锁&lt;br&gt;转&lt;br&gt;变&lt;br&gt;状&lt;br&gt;态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#67AB9F;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1555" y="1730" width="30" height="80" as="geometry"/></mxCell><mxCell id="iUOaCaQtqsrIiYUxeszV-215" value="参考链接：https://www.cnblogs.com/aspirant/p/11470858.html" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="1370" y="240" width="350" height="20" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="ONoWmHFlkEmybD-OfCSC-2" target="pE2CnEC2n407IftavL3Y-3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-5" value="cas 设置_owner为当前线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-4" vertex="1" connectable="0"><mxGeometry x="-0.1714" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="ONoWmHFlkEmybD-OfCSC-2" value="访问同步代码块" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="540" width="120" height="60" as="geometry"/></mxCell><mxCell id="ONoWmHFlkEmybD-OfCSC-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="ONoWmHFlkEmybD-OfCSC-1" target="ONoWmHFlkEmybD-OfCSC-2" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-3" target="pE2CnEC2n407IftavL3Y-62" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2930" y="690" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-8" value="null" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-7" vertex="1" connectable="0"><mxGeometry y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-3" target="pE2CnEC2n407IftavL3Y-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-11" value="not null" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-10" vertex="1" connectable="0"><mxGeometry x="-0.3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-3" value="null ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2990" y="670" width="80" height="40" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-9" target="pE2CnEC2n407IftavL3Y-63" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3140" y="810" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-14" value="self" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-13" vertex="1" connectable="0"><mxGeometry x="-0.1333" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-9" target="pE2CnEC2n407IftavL3Y-15" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-17" value="no self" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-16" vertex="1" connectable="0"><mxGeometry x="-0.1429" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-9" value="self ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2990" y="790" width="80" height="40" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-15" target="pE2CnEC2n407IftavL3Y-18" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-15" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TrySpin 自旋&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="900" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-18" target="pE2CnEC2n407IftavL3Y-64" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3130" y="1050" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-22" value="succ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-21" vertex="1" connectable="0"><mxGeometry x="-0.2667" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-18" target="pE2CnEC2n407IftavL3Y-23" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-25" value="no succ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-24" vertex="1" connectable="0"><mxGeometry x="-0.3143" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-18" value="succ ？" style="rhombus;whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2990" y="1030" width="80" height="40" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-23" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3030" y="1280" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-28" value="进入EnterI方法内" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-27" vertex="1" connectable="0"><mxGeometry x="-0.225" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-23" value="进入&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;EnterI等待&lt;/span&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="1140" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-32" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;再次TrySpin自旋&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="1420" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-31" target="pE2CnEC2n407IftavL3Y-32" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-42" target="pE2CnEC2n407IftavL3Y-45" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-47" value="进入到循环锁等待流程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-46" vertex="1" connectable="0"><mxGeometry x="-0.125" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="VCqcoA2vZJmbEzvlz4lu-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-42" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3030" y="1800" as="targetPoint"/><Array as="points"><mxPoint x="3030" y="1880"/><mxPoint x="2870" y="1880"/><mxPoint x="2870" y="1770"/><mxPoint x="3030" y="1770"/></Array></mxGeometry></mxCell><mxCell id="VCqcoA2vZJmbEzvlz4lu-1" value="加入失败，重新cas" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VCqcoA2vZJmbEzvlz4lu-0" vertex="1" connectable="0"><mxGeometry x="0.0333" y="1" relative="1" as="geometry"><mxPoint x="11" y="18" as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-42" value="&lt;span style=&quot;font-size: 11px&quot;&gt;加入到队列_cxq队头&lt;/span&gt;" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="1800" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-41" target="pE2CnEC2n407IftavL3Y-42" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-44" value="cas" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-43" vertex="1" connectable="0"><mxGeometry x="-0.15" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-45" target="pE2CnEC2n407IftavL3Y-48" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-50" value="被挂起前再做获取锁操作" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-49" vertex="1" connectable="0"><mxGeometry x="0.1" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-45" value="for(;;)" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="1940" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-48" target="pE2CnEC2n407IftavL3Y-51" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-53" value="挂起线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-52" vertex="1" connectable="0"><mxGeometry x="-0.025" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-48" value="&lt;span style=&quot;background-color: rgb(42 , 42 , 42)&quot;&gt;再次&lt;/span&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TryLock获取&lt;/span&gt;" style="whiteSpace=wrap;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="2080" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-51" target="pE2CnEC2n407IftavL3Y-54" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-56" value="唤醒时后进行获取锁操作" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-55" vertex="1" connectable="0"><mxGeometry x="-0.175" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-49" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;dashed=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-51" target="iUOaCaQtqsrIiYUxeszV-202" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-51" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;调用 park()&lt;/pre&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="2220" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-54" target="pE2CnEC2n407IftavL3Y-57" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-61" value="获取锁成功" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f0f0f0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-54" target="pE2CnEC2n407IftavL3Y-83" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3170" y="2390" as="targetPoint"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.008;entryY=0.367;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#f0f0f0;curved=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="pE2CnEC2n407IftavL3Y-54" target="pE2CnEC2n407IftavL3Y-45" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="2920" y="2390"/><mxPoint x="2920" y="1962"/></Array></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-85" value="获取锁失败重新挂起" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pE2CnEC2n407IftavL3Y-84" vertex="1" connectable="0"><mxGeometry x="-0.1158" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-54" value="&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;TryLock获取&lt;/span&gt;" style="whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="2970" y="2360" width="120" height="60" as="geometry"/></mxCell><mxCell id="pE2CnEC2n407IftavL3Y-57" value="结束" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="3010" y="2510" width="40" height="40" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-32" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-29" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3869" y="2030" as="targetPoint"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-33" value="根据Qmode进行逻辑判断" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="jQZqf1lzNhXMfce8zqtg-32" vertex="1" connectable="0"><mxGeometry x="0.025" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-29" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;调用ObjectMonitor::exit&lt;/pre&gt;" style="whiteSpace=wrap;html=1;shadow=1;fillColor=none;sketch=0;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="3778" y="1890" width="182" height="60" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-30" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-28" target="jQZqf1lzNhXMfce8zqtg-29" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-43" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-39" target="jQZqf1lzNhXMfce8zqtg-42" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-48" value="唤醒线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="jQZqf1lzNhXMfce8zqtg-43" vertex="1" connectable="0"><mxGeometry x="-0.125" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-39" value="调用唤醒方法&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;ExitEpilog&lt;/span&gt;" style="whiteSpace=wrap;html=1;shadow=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="3809" y="2170" width="120" height="60" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-40" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-38" target="jQZqf1lzNhXMfce8zqtg-39" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-41" value="得到需要唤醒的node" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="jQZqf1lzNhXMfce8zqtg-40" vertex="1" connectable="0"><mxGeometry x="-0.075" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-44" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-42" target="pE2CnEC2n407IftavL3Y-51" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-45" value="唤醒线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="jQZqf1lzNhXMfce8zqtg-44" vertex="1" connectable="0"><mxGeometry x="-0.466" y="-4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-47" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-42" target="jQZqf1lzNhXMfce8zqtg-46" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-42" value="&lt;span style=&quot;color: rgb(132 , 97 , 61) ; font-family: &amp;#34;source code pro&amp;#34; , &amp;#34;dejavu sans mono&amp;#34; , &amp;#34;ubuntu mono&amp;#34; , &amp;#34;anonymous pro&amp;#34; , &amp;#34;droid sans mono&amp;#34; , &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;consolas&amp;#34; , &amp;#34;inconsolata&amp;#34; , &amp;#34;courier&amp;#34; , monospace , &amp;#34;pingfang sc&amp;#34; , &amp;#34;microsoft yahei&amp;#34; , sans-serif ; font-size: 14px ; text-align: left ; background-color: rgb(251 , 235 , 212)&quot;&gt;unpark&lt;/span&gt;" style="whiteSpace=wrap;html=1;shadow=1;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="3809" y="2310" width="120" height="60" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-46" value="" style="shape=waypoint;size=6;pointerEvents=1;points=[];fillColor=#2a2a2a;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;shadow=1;" parent="TtLvWpDj3m4DL-M9jB7u-1" vertex="1"><mxGeometry x="3849" y="2460" width="40" height="40" as="geometry"/></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-53" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="TtLvWpDj3m4DL-M9jB7u-1" source="jQZqf1lzNhXMfce8zqtg-50" target="ONoWmHFlkEmybD-OfCSC-2" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2920" y="1410" as="targetPoint"/></mxGeometry></mxCell><mxCell id="jQZqf1lzNhXMfce8zqtg-55" value="调用:objectMonitor::enter()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="jQZqf1lzNhXMfce8zqtg-53" vertex="1" connectable="0"><mxGeometry x="-0.3905" y="19" relative="1" as="geometry"><mxPoint y="1" as="offset"/></mxGeometry></mxCell></root></mxGraphModel></diagram><diagram id="vDnsSjjjOEcjnkb3glFg" name="Volatile"><mxGraphModel dx="1354" dy="605" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="PLQTCrK78I2cqZw3MkcE-0"/><mxCell id="PLQTCrK78I2cqZw3MkcE-1" parent="PLQTCrK78I2cqZw3MkcE-0"/></root></mxGraphModel></diagram><diagram id="3Asrffn6KsN2TFOl7ZGE" name="CAS(Unsafe)"><mxGraphModel dx="1354" dy="1705" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="HDmoAGEVShBE91-KGFv2-0"/><mxCell id="HDmoAGEVShBE91-KGFv2-1" parent="HDmoAGEVShBE91-KGFv2-0"/><mxCell id="HDmoAGEVShBE91-KGFv2-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="HDmoAGEVShBE91-KGFv2-2" target="HDmoAGEVShBE91-KGFv2-3" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-6" value="&lt;span style=&quot;font-size: 12px&quot;&gt;调用&lt;/span&gt;&lt;span style=&quot;color: rgb(221 , 221 , 221) ; background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt ; text-align: left&quot;&gt;getIntVolatile&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;()方法&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="HDmoAGEVShBE91-KGFv2-4" vertex="1" connectable="0"><mxGeometry relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-2" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="320" y="70" width="40" height="40" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="HDmoAGEVShBE91-KGFv2-3" target="HDmoAGEVShBE91-KGFv2-7" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-9" value="进行值操作(v+delta)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="HDmoAGEVShBE91-KGFv2-8" vertex="1" connectable="0"><mxGeometry relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-3" value="获取变量最新版本值" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="180" width="120" height="60" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-5" value="本tab借助Unsafe.getAndAddInt()方法来分析如何借助Cas实现乐观锁式的线程安全流程&lt;br&gt;&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;public final int &lt;/span&gt;&lt;span style=&quot;color: #97e76b&quot;&gt;getAndAddInt&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #54e0e8&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;o&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;long &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;offset&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;delta&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;v;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;do &lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;v &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;getIntVolatile&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;o&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;offset&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;while &lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;compareAndSwapInt&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;o&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;offset&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;v&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;v &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;+ &lt;/span&gt;&lt;span style=&quot;color: #fdc323&quot;&gt;delta&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #e84b94&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #dddddd&quot;&gt;v;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #ffffff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;size=0.1111111111111111;align=left;verticalAlign=top;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="75" y="-160" width="530" height="180" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="HDmoAGEVShBE91-KGFv2-7" target="HDmoAGEVShBE91-KGFv2-10" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-12" value="调用&lt;span style=&quot;color: rgb(221 , 221 , 221) ; background-color: rgb(43 , 43 , 43) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt ; text-align: left&quot;&gt;compareAndSwapInt()&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="HDmoAGEVShBE91-KGFv2-11" vertex="1" connectable="0"><mxGeometry x="-0.15" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-7" value="操作共享值" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="320" width="120" height="60" as="geometry"/></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-19" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="HDmoAGEVShBE91-KGFv2-10" target="HDmoAGEVShBE91-KGFv2-18" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-0" value="调用unsafe.cpp(&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;Unsafe_CompareAndSwapInt&lt;/span&gt;)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="HDmoAGEVShBE91-KGFv2-19" vertex="1" connectable="0"><mxGeometry x="0.025" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-10" value="比较并更新" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="460" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-2" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="HDmoAGEVShBE91-KGFv2-18" target="b4N9g6jrX6VWL14_5LQw-1" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-3" value="调用atomic.cpp(&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;cmpxchg()&lt;/span&gt;)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-2" vertex="1" connectable="0"><mxGeometry x="-0.1" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="HDmoAGEVShBE91-KGFv2-18" value="调用native方法" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="600" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-5" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-1" target="b4N9g6jrX6VWL14_5LQw-4" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-7" value="调用atomic_windows_x86.inline.hpp(&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;cmpxchg&lt;/span&gt;)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-5" vertex="1" connectable="0"><mxGeometry x="0.225" y="4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-1" value="根据不同os调用&lt;br&gt;汇编指令" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="740" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-9" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-4" target="b4N9g6jrX6VWL14_5LQw-8" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-10" value="获取os核数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-9" vertex="1" connectable="0"><mxGeometry x="-0.175" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-4" value="&lt;span style=&quot;font-size: 11px&quot;&gt;调用windowX86&lt;br&gt;汇编指令&lt;/span&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="880" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-12" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-8" target="b4N9g6jrX6VWL14_5LQw-11" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-17" value="操作数放入寄存器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-12" vertex="1" connectable="0"><mxGeometry x="-0.025" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-8" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;os::is_MP()&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="1020" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-15" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-11" target="b4N9g6jrX6VWL14_5LQw-14" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-16" value="&lt;span style=&quot;color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 13.0667px ; background-color: rgb(43 , 43 , 43)&quot;&gt;调用LOCK_IF_MP(mp)&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-15" vertex="1" connectable="0"><mxGeometry x="-0.275" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-11" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;mov edx, dest&lt;br&gt;mov ecx, exchange_value&lt;br&gt;mov eax, compare_value&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="240" y="1160" width="200" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-19" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-14" target="b4N9g6jrX6VWL14_5LQw-18" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-20" value="执行CAS" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-19" vertex="1" connectable="0"><mxGeometry x="-0.225" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-14" value="&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;&lt;span style=&quot;color: rgb(240 , 240 , 240) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 11px ; background-color: rgb(42 , 42 , 42)&quot;&gt;根据c数是否添&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;加lock前缀指令&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="1300" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-24" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-18" target="b4N9g6jrX6VWL14_5LQw-23" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-27" value="Y(CAS成功)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-24" vertex="1" connectable="0"><mxGeometry x="-0.1037" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-26" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-18" target="b4N9g6jrX6VWL14_5LQw-25" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-28" value="N(CAS失败)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-26" vertex="1" connectable="0"><mxGeometry x="-0.1694" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-18" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;fira code medium&amp;#34; , monospace ; font-size: 9.8pt&quot;&gt;cmpxchg dword ptr [edx], ecx&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="220" y="1440" width="240" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-31" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-23" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="340" y="1720" as="targetPoint"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-23" value="CAS 值替换成功" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="75" y="1580" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#a20025;strokeColor=#6F0000;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-25" target="HDmoAGEVShBE91-KGFv2-10" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="580" y="1580"/><mxPoint x="580" y="490"/></Array></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-34" value="循环更新 do{}while(1)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="b4N9g6jrX6VWL14_5LQw-29" vertex="1" connectable="0"><mxGeometry x="0.013" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-25" value="&lt;span&gt;CAS 值替换失败&lt;/span&gt;" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="485" y="1580" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-33" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="HDmoAGEVShBE91-KGFv2-1" source="b4N9g6jrX6VWL14_5LQw-30" target="b4N9g6jrX6VWL14_5LQw-32" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-30" value="响应更新状态" style="whiteSpace=wrap;html=1;fillColor=none;sketch=0;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="280" y="1720" width="120" height="60" as="geometry"/></mxCell><mxCell id="b4N9g6jrX6VWL14_5LQw-32" value="" style="shape=waypoint;sketch=0;size=6;pointerEvents=1;points=[];fillColor=none;resizable=0;rotatable=0;perimeter=centerPerimeter;snapToPoint=1;" parent="HDmoAGEVShBE91-KGFv2-1" vertex="1"><mxGeometry x="320" y="1880" width="40" height="40" as="geometry"/></mxCell></root></mxGraphModel></diagram><diagram id="06rUMeCCsHlrgHylKYL_" name="Page-6"><mxGraphModel dx="654" dy="633" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="FejMoMp8eT_srFIFwafR-0"/><mxCell id="FejMoMp8eT_srFIFwafR-1" parent="FejMoMp8eT_srFIFwafR-0"/></root></mxGraphModel></diagram></mxfile>